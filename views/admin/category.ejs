
<%- include('./header.ejs') %>
<%- include('./sidePannel.ejs') %>   
<main class="main-wrap">


<div class="col-lg-9">
    <section class="content-body p-xl-4">
        <form action="/admin/category" id="category" method="post">
            <% if (errorMsg) { %>
                <h4 style="text-align: center; color: #e74c3c;"><%=   errorMsg   %></h4>
            <% } %>
            <% if (successMsg) { %>
                <h4 style="text-align: center; color: #2ecc71;"><%= successMsg %></h4>
            <% } %>
            <div class="row mb-4">
                <label class="col-lg-3 col-form-label">category name</label>
                <div class="col-lg-9">
                    <input type="text" class="form-control" placeholder="Type here" name="categoryName" required>
                </div>
            </div>
            <div class="row mb-4">
                <label class="col-lg-3 col-form-label">Description*</label>
                <div class="col-lg-9">
                    <textarea class="form-control" placeholder="Type here" rows="4" name="description" required></textarea>
                </div> 
            </div>  
           
            <button class="btn btn-primary" type="submit"> add Catgeory</button>
        </form>
    </section> 
</div> 

<div class="card mb-4">
        
  
   
    <div class="card-body">
        <div class="table-responsive">
           
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th scope="col">Name</th>
                        <th scope="col">description</th> 
                        <th scope="col">Status</th>  
                        <th scope="col" > Action </th>
                        <th scope="col" > edit </th>
                        
                    </tr>
                </thead>
                <tbody>
                    <% categoryData.forEach(category => { %>
                    <tr> 
                        <td><b><%= category.name %></b></td>
                        <td><b><%= category.description %></b></td>
                        <td>
                            <span  class="badge <%= category.is_active === 1 ? 'alert-success' : 'alert-warning' %>">
                                <!-- if user is active show active and if not show blocked  -->
                                <%= category.is_active === 1 ? 'listed' : 'unlisted' %> 
                            </span>
                        </td>
                        <td>
                            <form action="/admin/category/<%= category._id %>" method="POST">
                                <button class="btn btn-md rounded font-sm">
                                    <%= category.is_active === 1 ? 'list ' : 'unlist' %>
                                </button>
                            </form>

                        </td>

                        <td>
                            <form action="/admin/category/edit/<%= category._id %>", method="get" >
                                <button class="btn btn-md rounded font-sm">
                                  edit
                                </button>
                            </form>
                        </td>

                    
                    </tr>




                        <% }); %>
                   
                </tbody>
            </table>
         <!-- table-responsive //end -->
        </div>
    <!-- card-body end// -->
    </div>
</div> 

</main>
 <script src="/admin/js/vendors/jquery-3.6.0.min.js"></script>
 <script src="/admin/js/vendors/bootstrap.bundle.min.js"></script>
 <script src="/admin/js/vendors/select2.min.js"></script>
 <script src="/admin/js/vendors/perfect-scrollbar.js"></script>
 <script src="/admin/js/vendors/jquery.fullscreen.min.js"></script>
 <script src="/admin/js/vendors/chart.js"></script>
 <!-- Main Script -->
 <script src="/admin/js/main.js" type="text/javascript"></script>
 <script src="/admin/js/custom-chart.js" type="text/javascript"></script>

 <script>



 </script>

</body>

</html>